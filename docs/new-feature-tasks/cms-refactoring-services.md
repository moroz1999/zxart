1. В движке есть сервисы и регистр сервисов. Это по сути легаси контейнер для сервисов, который позволяет регистрировать и получать сервисы по их идентификаторам.
2. Ещё в движке есть PHP-DI.
3. Есть три пакета project, trickster-cms/cms и trickster-cms/homepage
4. В каждом из них есть core/di-definitions.php для PHP-DI. 
5. В каждом из них есть services, где лежат легаси сервисы.
6. Глобальная задача - перенести сервисы в PHP-DI. 

Что надо сделать:
1. Для каждого легаси сервиса надо завести в PHP-DI аналогичный скрипт запуска, не потеряв ВООБЩЕ ничего из его конфигурации.
2. Записи $this->getService('myService') надо переделать на класс $this->getService(MyService::class) и не забыть добавить use.
3. Цель - удалить все сервисы из legacy контейнера. Папки services в итоге должны остаться пустыми.
4. Некоторые легаси сервисы перенесены в di-definitions.php, но сделаны наполовину - там вызывается старый контейнер. Это надо уже переделать капитально, без вызова легаси.
5. Когда все сервисы удалены, надо убрать сам старый контейнер и его использование из DependencyInjectionContext. Пусть там будет только PHP-DI.
6. Проанализируй, какие способы УЖЕ используются в PHP-DI для работы с сервисами. Они - рабочие, постарайся не сочинять нового ничего, бери их как примеры.
