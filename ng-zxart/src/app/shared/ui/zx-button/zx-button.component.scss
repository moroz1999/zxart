:host {
  display: inline-block;
  max-width: 100%;
}

.zx-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  max-width: 100%;
  border: var(--border-width-thin) solid transparent;
  border-radius: var(--zx-button-border-radius);
  margin: 0;
  outline: none;
  font-family: inherit;
  font-weight: 400;
  line-height: 1;
  text-decoration: none;
  white-space: nowrap;
  user-select: none;
  vertical-align: middle;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  --zx-button-current-height: var(--zx-button-md-height);
  --zx-button-ripple-mix: 24%;
  --zx-button-ripple-start-opacity: 0.36;
  --zx-button-ripple-duration: 560ms;
  transition: background-color var(--zx-button-transition-time) ease-in-out,
  color var(--zx-button-transition-time) ease-in-out,
  border-color var(--zx-button-transition-time) ease-in-out,
  box-shadow var(--zx-button-transition-time) ease-in-out;

  &:focus-visible {
    box-shadow: 0 0 0 var(--border-width-thick) var(--border-focused);
  }

  &:disabled,
  &.zx-button--disabled {
    cursor: not-allowed;
    opacity: var(--zx-button-disabled-opacity);
    pointer-events: none;
  }

  &--primary {
    --zx-button-ripple-mix: 30%;
    --zx-button-ripple-start-opacity: 0.46;
    background-color: var(--zx-button-primary-bg);
    color: var(--zx-button-primary-text);

    &:hover:not(:disabled):not(.zx-button--disabled) {
      background-color: var(--zx-button-primary-hover-bg);
    }

    &:disabled,
    &.zx-button--disabled {
      background-color: var(--zx-button-primary-disabled-bg);
      color: var(--zx-button-primary-disabled-text);
    }
  }

  &--secondary {
    --zx-button-ripple-mix: 22%;
    --zx-button-ripple-start-opacity: 0.34;
    background-color: var(--zx-button-secondary-bg);
    color: var(--zx-button-secondary-text);

    &:hover:not(:disabled):not(.zx-button--disabled) {
      background-color: var(--zx-button-secondary-hover-bg);
    }

    &:disabled,
    &.zx-button--disabled {
      background-color: var(--zx-button-secondary-disabled-bg);
      color: var(--zx-button-secondary-disabled-text);
    }
  }

  &--danger {
    --zx-button-ripple-mix: 22%;
    --zx-button-ripple-start-opacity: 0.34;
    background-color: var(--zx-button-danger-bg);
    color: var(--zx-button-danger-text);

    &:hover:not(:disabled):not(.zx-button--disabled) {
      background-color: var(--zx-button-danger-hover-bg);
    }

    &:disabled,
    &.zx-button--disabled {
      background-color: var(--zx-button-danger-disabled-bg);
      color: var(--zx-button-danger-disabled-text);
    }
  }

  &--transparent {
    --zx-button-ripple-mix: 18%;
    --zx-button-ripple-start-opacity: 0.28;
    background-color: var(--zx-button-transparent-bg);
    color: var(--zx-button-transparent-text);

    &:hover:not(:disabled):not(.zx-button--disabled) {
      background-color: var(--zx-button-transparent-hover-bg);
    }

    &:disabled,
    &.zx-button--disabled {
      background-color: var(--zx-button-transparent-disabled-bg);
      color: var(--zx-button-transparent-disabled-text);
    }
  }

  &--outlined {
    --zx-button-ripple-mix: 18%;
    --zx-button-ripple-start-opacity: 0.28;
    background-color: var(--zx-button-outlined-bg);
    color: var(--zx-button-outlined-text);
    border-color: var(--zx-button-outlined-border);

    &:hover:not(:disabled):not(.zx-button--disabled),
    &:focus-visible:not(:disabled):not(.zx-button--disabled) {
      background-color: var(--zx-button-outlined-hover-bg);
    }

    &:disabled,
    &.zx-button--disabled {
      background-color: var(--zx-button-outlined-disabled-bg);
      color: var(--zx-button-outlined-disabled-text);
      border-color: var(--zx-button-outlined-disabled-border);
    }
  }

  &--xs {
    --zx-button-current-height: var(--zx-button-xs-height);
    min-width: var(--zx-button-xs-min-width);
    height: var(--zx-button-xs-height);
    padding: var(--zx-button-xs-padding);
    font-size: var(--zx-button-xs-font-size);

    .mat-icon {
      font-size: 14px;
      width: 14px;
      height: 14px;
    }
  }

  &--sm {
    --zx-button-current-height: var(--zx-button-sm-height);
    min-width: var(--zx-button-sm-min-width);
    height: var(--zx-button-sm-height);
    padding: var(--zx-button-sm-padding);
    font-size: var(--zx-button-sm-font-size);

    .mat-icon {
      font-size: 16px;
      width: 16px;
      height: 16px;
    }
  }

  &--md {
    --zx-button-current-height: var(--zx-button-md-height);
    min-width: var(--zx-button-md-min-width);
    height: var(--zx-button-md-height);
    padding: var(--zx-button-md-padding);
    font-size: var(--zx-button-md-font-size);

    .mat-icon {
      font-size: 18px;
      width: 18px;
      height: 18px;
    }
  }

  &--square {
    min-width: auto;
    aspect-ratio: 1;
    padding: 0;
  }

  &--round {
    border-radius: var(--zx-button-round-radius);
    min-width: var(--zx-button-current-height);
    aspect-ratio: 1;
    padding: 0;
  }
}

.zx-button__content {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-4);
  width: 100%;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  position: relative;
  z-index: 1;
}

.zx-button__ripple {
  position: absolute;
  transform: translate(-50%, -50%) scale(0.04);
  border-radius: 50%;
  pointer-events: none;
  opacity: 0;
  background-color: color-mix(in srgb, currentColor var(--zx-button-ripple-mix), transparent);
  z-index: 0;

  &--active {
    animation: zx-button-ripple-expand var(--zx-button-ripple-duration) cubic-bezier(0.2, 1.08, 0.3, 1),
    zx-button-ripple-fade var(--zx-button-ripple-duration) ease-out forwards;
  }
}

@keyframes zx-button-ripple-expand {
  0% {
    transform: translate(-50%, -50%) scale(0.04);
  }

  72% {
    transform: translate(-50%, -50%) scale(1.06);
  }

  100% {
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes zx-button-ripple-fade {
  0% {
    opacity: var(--zx-button-ripple-start-opacity);
  }

  100% {
    opacity: 0;
  }
}
